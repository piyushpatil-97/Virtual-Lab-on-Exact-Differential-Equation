<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Labs - LAUC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, #2c3e50, #1a2530);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1001;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .pcce-logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-right: 25px;
            border-right: 2px solid rgba(255, 255, 255, 0.2);
        }

        .pcce-logo-img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 8px;
            background-color: white;
            padding: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .pcce-logo-text {
            display: flex;
            flex-direction: column;
        }

        .pcce-logo-text .main {
            font-size: 20px;
            font-weight: 700;
            color: #fff;
            line-height: 1.2;
        }

        .pcce-logo-text .sub {
            font-size: 12px;
            color: #ecf0f1;
            opacity: 0.9;
            margin-top: 2px;
        }

        .virtual-labs-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .virtual-labs-logo i {
            font-size: 32px;
            color: #3498db;
        }

        .virtual-labs-logo h1 {
            font-size: 26px;
            font-weight: 600;
        }

        .virtual-labs-logo span {
            color: #3498db;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-info i {
            font-size: 20px;
            color: #3498db;
        }

        /* Main Content Layout */
        .main-content {
            display: flex;
            margin-top: 30px;
            min-height: calc(100vh - 120px);
        }

        /* Sidebar Navigation - Fixed to leftmost */
        .sidebar {
            width: 300px;
            background-color: white;
            border-radius: 0 8px 8px 0;
            box-shadow: 2px 0 15px rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            position: fixed;
            left: 0;
            top: 90px;
            bottom: 0;
            z-index: 1000;
            overflow-y: auto;
            display: none; /* Hidden by default on start page */
            transition: transform 0.3s ease;
        }

        .sidebar.visible {
            display: block;
        }

        .sidebar h3 {
            padding: 0 20px 15px;
            color: #2c3e50;
            border-bottom: 1px solid #eee;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .nav-menu {
            list-style: none;
            padding: 0;
        }

        .nav-item {
            padding: 15px 25px;
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 1px solid #f5f5f5;
        }

        .nav-item:hover {
            background-color: #f8f9fa;
            border-left-color: #3498db;
        }

        .nav-item.active {
            background-color: #f0f7ff;
            border-left-color: #3498db;
            color: #3498db;
            font-weight: 500;
        }

        .nav-item i {
            width: 20px;
            text-align: center;
            font-size: 18px;
        }

        .nav-item span {
            font-size: 16px;
        }

        /* Content Area - Adjusted for fixed sidebar */
        .content {
            flex: 1;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            padding: 30px;
            min-height: 600px;
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }

        .content.with-sidebar {
            margin-left: 320px;
        }

        .content-header {
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .breadcrumb {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 8px;
        }

        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }

        .content-header h2 {
            font-size: 28px;
            color: #2c3e50;
            font-weight: 600;
        }

        .content-header p {
            color: #7f8c8d;
            margin-top: 5px;
        }

        /* START PAGE - Full Screen Landing Page */
        .start-page {
            min-height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            margin-top: 20px;
        }

        .start-card {
            max-width: 700px;
            width: 100%;
            background: white;
            border-radius: 16px;
            padding: 50px 40px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(52, 152, 219, 0.2);
            position: relative;
            overflow: hidden;
        }

        .start-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #3498db, #2c3e50);
        }

        .start-card h1 {
            font-size: 36px;
            color: #2c3e50;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .start-card h2 {
            font-size: 28px;
            color: #3498db;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .start-card p {
            font-size: 18px;
            color: #555;
            margin-bottom: 35px;
            line-height: 1.6;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .start-btn {
            display: inline-block;
            background: linear-gradient(90deg, #3498db, #2c80b9);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 20px;
            font-weight: 700;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
            margin-top: 10px;
            letter-spacing: 0.5px;
        }

        .start-btn:hover {
            background: linear-gradient(90deg, #2c80b9, #216794);
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(52, 152, 219, 0.5);
        }

        .start-btn:active {
            transform: translateY(-2px) scale(1);
        }

        .start-btn i {
            margin-right: 12px;
        }

        .lab-info {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #7f8c8d;
            font-size: 15px;
            max-width: 600px;
        }

        .lab-info strong {
            color: #2c3e50;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 50px;
            max-width: 900px;
        }

        .feature {
            background-color: white;
            padding: 25px;
            border-radius: 10px;
            border-top: 5px solid #3498db;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .feature:hover {
            transform: translateY(-8px);
        }

        .feature i {
            font-size: 32px;
            color: #3498db;
            margin-bottom: 20px;
            display: block;
        }

        .feature h4 {
            margin-bottom: 12px;
            color: #2c3e50;
            font-size: 20px;
        }

        .feature p {
            font-size: 15px;
            color: #666;
            line-height: 1.5;
        }

        /* Home button in sidebar */
        .home-btn {
            margin: 15px 20px;
            padding: 12px 20px;
            background: linear-gradient(to right, #3498db, #2c80b9);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
            width: calc(100% - 40px);
        }

        .home-btn:hover {
            background: linear-gradient(to right, #2c80b9, #216794);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        /* Aim Sections */
        .aim-sections {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .section-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .section-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            border-color: #3498db;
        }

        .section-card.active {
            background-color: #e8f4fc;
            border-color: #3498db;
        }

        .section-card i {
            font-size: 32px;
            color: #3498db;
            margin-bottom: 15px;
        }

        .section-card h3 {
            font-size: 18px;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .section-card p {
            font-size: 14px;
            color: #7f8c8d;
        }
        

        /* Section Content Styling */
        .section-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Aim Section */
        .aim-content, .theory-content, .pretest-content, .simulation-content, 
        .posttest-content, .references-content, .contributors-content, .feedback-content {
            line-height: 1.8;
            color: #444;
        }

        .aim-content h3, .theory-content h3, .pretest-content h3,
        .simulation-content h3, .posttest-content h3, .references-content h3,
        .contributors-content h3, .feedback-content h3 {
            color: #2c3e50;
            margin: 25px 0 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .aim-content ul, .theory-content ul, .pretest-content ul,
        .simulation-content ul, .posttest-content ul, .references-content ul,
        .contributors-content ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .aim-content li, .theory-content li, .pretest-content li,
        .simulation-content li, .posttest-content li, .references-content li,
        .contributors-content li {
            margin-bottom: 10px;
        }

        .math-equation {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 18px;
            text-align: center;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }

        /* Exact Differential Equation Solver Styles */
        .solver-container {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            margin-top: 25px;
            border: 1px solid #e0e0e0;
        }

        .solver-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            color: #2c3e50;
        }

        .solver-header i {
            font-size: 28px;
            color: #3498db;
        }

        .solver-header h3 {
            font-size: 24px;
        }

        .equation-form {
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }

        .input-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .input-row span {
            margin: 0 10px;
            font-weight: bold;
            font-size: 18px;
        }

        .solver-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .solver-input:focus {
            border-color: #3498db;
            outline: none;
        }

        .example-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .example-btn {
            background-color: #e0e7ff;
            color: #4a6491;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }

        .example-btn:hover {
            background-color: #d0d9ff;
        }

        .solve-btn {
            display: inline-block;
            background: linear-gradient(90deg, #4a6491, #2c3e50);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.3s, box-shadow 0.3s;
            width: 100%;
            margin-top: 10px;
        }

        .solve-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .solve-btn:active {
            transform: translateY(0);
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .solution-steps {
            margin-top: 30px;
        }

        .step {
            background-color: white;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .step-title {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .math-display {
            font-size: 1.1rem;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 5px;
            margin: 10px 0;
            overflow-x: auto;
            text-align: center;
        }

        .explanation {
            padding: 10px 0;
            color: #555;
        }

        .result {
            background-color: #e8f4fc;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
        }

        .result-title {
            font-weight: 700;
            color: #0d47a1;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .error {
            background-color: #ffebee;
            border-left: 4px solid #f44336;
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
        }

        .error-title {
            font-weight: 700;
            color: #c62828;
            margin-bottom: 10px;
        }

        .success {
            background-color: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 20px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
        }

        .success-title {
            font-weight: 700;
            color: #2e7d32;
            margin-bottom: 10px;
        }

        /* Pretest and Posttest Styles */
        .question {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
        }

        .question h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 12px 15px;
            background-color: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #e0e0e0;
        }

        .option:hover {
            background-color: #f0f7ff;
            border-color: #3498db;
        }

        .option.selected {
            background-color: #e8f4fc;
            border-color: #3498db;
        }

        .submit-btn {
            background: linear-gradient(to right, #3498db, #2c80b9);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            margin-top: 20px;
        }

        .submit-btn:hover {
            background: linear-gradient(to right, #2c80b9, #216794);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        /* Feedback Section */
        .feedback-form {
            margin-top: 20px;
        }

        .form-row {
            margin-bottom: 20px;
        }

        .form-row label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #444;
        }

        .form-row textarea, .form-row input[type="text"], .form-row input[type="email"] {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-row textarea:focus, .form-row input[type="text"]:focus, .form-row input[type="email"]:focus {
            border-color: #3498db;
            outline: none;
        }

        .rating {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .rating i {
            font-size: 24px;
            color: #ddd;
            cursor: pointer;
            transition: color 0.3s;
        }

        .rating i.active {
            color: #ffcc00;
        }

        /* Contributors Section */
        .contributor-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .contributor-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .contributor-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .contributor-card img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid #3498db;
        }

        .contributor-card h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .contributor-card p {
            color: #7f8c8d;
            font-size: 14px;
            margin-bottom: 10px;
        }

        /* Footer */
        footer {
            margin-top: 40px;
            padding: 20px 0;
            text-align: center;
            color: #7f8c8d;
            font-size: 14px;
            border-top: 1px solid #eee;
        }

        .footer-logo {
            display: inline-block;
            margin: 0 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        /* Debug styling - to help identify if image loads */
        .debug-info {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        }

        /* Mobile menu toggle button */
        .menu-toggle {
            display: none;
            position: fixed;
            top: 100px;
            left: 10px;
            z-index: 1002;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .content.with-sidebar {
                margin-left: 320px;
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            
            .sidebar.visible {
                transform: translateX(0);
            }
            
            .content.with-sidebar {
                margin-left: 0;
                width: 100%;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .aim-sections {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .logo-section {
                flex-direction: column;
                gap: 20px;
                width: 100%;
            }
            
            .pcce-logo-container {
                border-right: none;
                padding-right: 0;
                border-bottom: 2px solid rgba(255, 255, 255, 0.2);
                padding-bottom: 20px;
                justify-content: center;
                width: 100%;
            }
            
            .virtual-labs-logo {
                justify-content: center;
            }
            
            .aim-sections {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sidebar {
                top: 130px; /* Adjusted for taller header on mobile */
            }
            
            .menu-toggle {
                top: 140px;
            }
        }

        @media (max-width: 576px) {
            .aim-sections {
                grid-template-columns: 1fr;
            }
            
            .content {
                padding: 20px;
            }
            
            .pcce-logo-container {
                flex-direction: column;
                text-align: center;
            }
            
            .pcce-logo-img {
                width: 70px;
                height: 70px;
            }
            
            .contributor-list {
                grid-template-columns: 1fr;
            }
            
            .start-card {
                padding: 30px 20px;
            }
            
            .start-card h1 {
                font-size: 28px;
            }
            
            .start-card h2 {
                font-size: 22px;
            }
            
            .start-btn {
                padding: 16px 30px;
                font-size: 18px;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .menu-toggle {
                top: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Debug info - remove this in production -->
    <div class="debug-info" id="debugInfo">
        Checking image loading...
    </div>

    <!-- Mobile menu toggle button -->
    <button class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i> Menu
    </button>

    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-section">
                <!-- PCOE Logo -->
                <div class="pcce-logo-container">
                    <img src="https://raw.githubusercontent.com/dineshkute90/virtual_lab_LAUC/main/pccoe.png" 
                         alt="PCOE Logo" 
                         class="pcce-logo-img"
                         id="pcceLogo"
                         onerror="this.onerror=null; this.src='https://via.placeholder.com/60x60/2c3e50/ffffff?text=PCOE';">
                    <div class="pcce-logo-text">
                        <div class="main">APPLIED SCIENCES & HUMANITIES</div>
                        <div class="sub">Pimpri Chinchwad College of Engineering</div>
                    </div>
                </div>
                
                <!-- Virtual Labs Logo -->
                <div class="virtual-labs-logo">
                    <i class="fas fa-flask"></i>
                    <h1>Virtual <span>Labs</span></h1>
                </div>
            </div>
            
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span>Welcome, Students</span>
            </div>
        </div>
    </header>

    <div class="container main-content">
        <!-- Sidebar Navigation - Fixed to leftmost side -->
        <aside class="sidebar" id="sidebar">
            <button class="home-btn" id="go-home-btn">
                <i class="fas fa-home"></i> Back to Home
            </button>
            <h3>Navigation Menu</h3>
            <ul class="nav-menu">
                <li class="nav-item" data-section="aim">
                    <i class="fas fa-bullseye"></i>
                    <span>Aim</span>
                </li>
                <li class="nav-item" data-section="theory">
                    <i class="fas fa-book"></i>
                    <span>Theory</span>
                </li>
                <li class="nav-item" data-section="pretest">
                    <i class="fas fa-question-circle"></i>
                    <span>Pretest</span>
                </li>
                <li class="nav-item" data-section="simulation">
                    <i class="fas fa-desktop"></i>
                    <span>Simulation</span>
                </li>
                <li class="nav-item" data-section="posttest">
                    <i class="fas fa-clipboard-check"></i>
                    <span>Posttest</span>
                </li>
                <li class="nav-item" data-section="references">
                    <i class="fas fa-book-open"></i>
                    <span>References</span>
                </li>
                <li class="nav-item" data-section="contributors">
                    <i class="fas fa-users"></i>
                    <span>Contributors</span>
                </li>
                <li class="nav-item" data-section="feedback">
                    <i class="fas fa-comment-alt"></i>
                    <span>Feedback</span>
                </li>
            </ul>
        </aside>

        <!-- Content Area -->
        <main class="content" id="content">
            <!-- Starting Page - Shown by default -->
            <div class="start-page active" id="start-page">
                <div class="start-card">
                    <h1>Virtual Lab on</h1>
                    <h2>Exact Differential Equations</h2>
                    <p>An interactive virtual laboratory designed to help students understand and solve exact differential equations using computational methods and step-by-step solutions.</p>
                    
                    <button class="start-btn" id="start-lab-btn">
                        <i class="fas fa-play-circle"></i> Launch Exact DE Solver
                    </button>
                    
                    <div class="lab-info">
                        <p><strong>Virtual Lab:</strong> © 2025 | Applied Sciences & Humanities Department | <strong>Pimpri Chinchwad College of Engineering</strong></p>
                    </div>
                </div>
                
                <div class="features">
                    <div class="feature">
                        <i class="fas fa-graduation-cap"></i>
                        <h4>Learning Objectives</h4>
                        <p>Understand exact differential equations, learn to identify them, and solve step-by-step using integration techniques.</p>
                    </div>
                    
                    <div class="feature">
                        <i class="fas fa-calculator"></i>
                        <h4>Interactive Solver</h4>
                        <p>Use our interactive tool to solve exact differential equations with step-by-step guidance and explanations.</p>
                    </div>
                    
                    <div class="feature">
                        <i class="fas fa-chart-line"></i>
                        <h4>Assessment Tools</h4>
                        <p>Test your knowledge with pre and post-experiment assessments to track your learning progress.</p>
                    </div>
                </div>
            </div>

            <!-- Lab Sections - Hidden by default -->
            <div class="lab-sections" id="lab-sections" style="display: none;">
                <div class="content-header">
                    <div class="breadcrumb">
                        <a href="#" id="breadcrumb-home">Home</a> / <a href="#">Mathematics</a> / <a href="#">Differential Equations</a> / <span>Exact Differential Equations</span>
                    </div>
                    <h2>Exact Differential Equations</h2>
                    <p>A Virtual Lab on Solving Exact Differential Equations Step-by-Step</p>
                </div>

                <!-- Aim Section Content -->
                <div class="section-content aim-content" id="aim-content">
                    <h3>Experiment Aim</h3>
                    <p>The aim of this virtual lab experiment is to understand and solve exact differential equations using computational methods.</p>
                    
                    <h3>Learning Objectives</h3>
                    <ul>
                        <li>Understand the concept of exact differential equations</li>
                        <li>Learn to identify exact differential equations by checking the condition \(\frac{\partial M}{\partial y} = \frac{\partial N}{\partial x}\)</li>
                        <li>Solve exact differential equations step-by-step</li>
                        <li>Apply integration techniques to find the solution function ψ(x, y)</li>
                        <li>Interpret the solution in the context of mathematical modeling</li>
                    </ul>
                    
                    <h3>Prerequisites</h3>
                    <ul>
                        <li>Basic knowledge of differential equations</li>
                        <li>Understanding of partial derivatives</li>
                        <li>Familiarity with integration techniques</li>
                        <li>Basic algebraic manipulation skills</li>
                    </ul>
                    
                    <div class="math-equation">
                        \[ M(x, y)dx + N(x, y)dy = 0 \]
                    </div>
                    
                    <h3>Equipment Needed</h3>
                    <p>For this virtual lab, you only need a computer with internet access. The simulation tool will handle all mathematical computations.</p>
                </div>

                <!-- Theory Section Content -->
                <div class="section-content theory-content" id="theory-content">
                    <h3>What are Exact Differential Equations?</h3>
                    <p>An exact differential equation is a differential equation of the form:</p>
                    <div class="math-equation">
                        \[ M(x, y)dx + N(x, y)dy = 0 \]
                    </div>
                    <p>where there exists a function ψ(x, y) such that:</p>
                    <div class="math-equation">
                        \[ \frac{\partial \psi}{\partial x} = M(x, y) \quad \text{and} \quad \frac{\partial \psi}{\partial y} = N(x, y) \]
                    </div>
                    
                    <h3>Exactness Condition</h3>
                    <p>The necessary and sufficient condition for the differential equation to be exact is:</p>
                    <div class="math-equation">
                        \[ \frac{\partial M}{\partial y} = \frac{\partial N}{\partial x} \]
                    </div>
                    <p>This condition must hold at all points in the region of interest.</p>
                    
                    <h3>Solution Method</h3>
                    <p>If the equation is exact, the solution can be found by:</p>
                    <ol>
                        <li>Integrate M(x, y) with respect to x, treating y as constant:
                            \[ \psi(x, y) = \int M(x, y) dx + g(y) \]
                        </li>
                        <li>Differentiate the result with respect to y:
                            \[ \frac{\partial \psi}{\partial y} = \frac{\partial}{\partial y} \left( \int M(x, y) dx \right) + g'(y) \]
                        </li>
                        <li>Set this equal to N(x, y) and solve for g'(y):
                            \[ N(x, y) = \frac{\partial}{\partial y} \left( \int M(x, y) dx \right) + g'(y) \]
                        </li>
                        <li>Integrate g'(y) to find g(y)</li>
                        <li>The solution is given by ψ(x, y) = C, where C is a constant</li>
                    </ol>
                    
                    <h3>Examples of Exact Differential Equations</h3>
                    <div class="math-equation">
                        \[ (2xy + y^2)dx + (x^2 + 2xy)dy = 0 \]
                    </div>
                    <div class="math-equation">
                        \[ (y\cos x + 2x)dx + (\sin x + 2y)dy = 0 \]
                    </div>
                    <div class="math-equation">
                        \[ (6xy + y^3)dx + (3x^2 + 3xy^2)dy = 0 \]
                    </div>
                    
                    <h3>Applications</h3>
                    <p>Exact differential equations have applications in:</p>
                    <ul>
                        <li>Physics: Thermodynamics, fluid dynamics</li>
                        <li>Engineering: Control systems, circuit analysis</li>
                        <li>Economics: Modeling economic growth</li>
                        <li>Biology: Population dynamics</li>
                    </ul>
                </div>

                <!-- Pretest Section Content -->
                <div class="section-content pretest-content" id="pretest-content">
                    <h3>Pre-Experiment Assessment</h3>
                    <p>Test your understanding before proceeding to the simulation. Select the correct answer for each question.</p>
                    
                    <div class="question">
                        <h4>Question 1: What is the condition for a differential equation Mdx + Ndy = 0 to be exact?</h4>
                        <div class="options">
                            <div class="option" data-correct="true">∂M/∂y = ∂N/∂x</div>
                            <div class="option">∂M/∂x = ∂N/∂y</div>
                            <div class="option">M = N</div>
                            <div class="option">∂M/∂y = -∂N/∂x</div>
                        </div>
                    </div>
                    
                    <div class="question">
                        <h4>Question 2: If ψ(x, y) is the solution function of an exact differential equation, which of the following is true?</h4>
                        <div class="options">
                            <div class="option">∂ψ/∂x = 0</div>
                            <div class="option" data-correct="true">∂ψ/∂x = M and ∂ψ/∂y = N</div>
                            <div class="option">ψ(x, y) = M + N</div>
                            <div class="option">∂ψ/∂y = 0</div>
                        </div>
                    </div>
                    
                    <div class="question">
                        <h4>Question 3: Which of the following is an exact differential equation?</h4>
                        <div class="options">
                            <div class="option">(x + y)dx + (x - y)dy = 0</div>
                            <div class="option">(2x + y)dx + (x - 2y)dy = 0</div>
                            <div class="option" data-correct="true">(2xy + y^2)dx + (x^2 + 2xy)dy = 0</div>
                            <div class="option">(sin x)dx + (cos y)dy = 0</div>
                        </div>
                    </div>
                    
                    <button class="submit-btn" id="submit-pretest">Submit Pretest</button>
                    <div id="pretest-result" style="display: none; margin-top: 20px; padding: 15px; background-color: #e8f4fc; border-radius: 8px;"></div>
                </div>

                <!-- Simulation Section Content -->
                <div class="section-content simulation-content active" id="simulation-content">
                    <h3>Exact Differential Equation Solver</h3>
                    <p>Use this interactive tool to solve exact differential equations step-by-step. Enter your equation in the form M(x,y)dx + N(x,y)dy = 0.</p>
                    
                    <div class="solver-container">
                        <div class="solver-header">
                            <i class="fas fa-calculator"></i>
                            <h3>Exact Differential Equation Solver</h3>
                        </div>
                        
                        <div class="equation-form">
                            <div class="form-group">
                                <label for="m-function">M(x, y) - Multiply with dx:</label>
                                <input type="text" id="m-function" class="solver-input" placeholder="e.g., 2*x*y^3 - 4*x^3" value="2*x*y^3 - 4*x^3">
                            </div>
                            
                            <div class="form-group">
                                <label for="n-function">N(x, y) - Multiply with dy:</label>
                                <input type="text" id="n-function" class="solver-input" placeholder="e.g., x^2*y^2 + exp(y)" value="x^2*y^2 + exp(y)">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Try examples:</label>
                            <div class="example-buttons">
                                <button class="example-btn" onclick="loadExample(0)">Example 1</button>
                                <button class="example-btn" onclick="loadExample(1)">Example 2</button>
                                <button class="example-btn" onclick="loadExample(2)">Example 3</button>
                            </div>
                        </div>
                        
                        <button class="solve-btn" onclick="solveEquation()">
                            <i class="fas fa-play-circle"></i> Solve Step-by-Step
                        </button>
                        
                        <div class="loading" id="loading">
                            <div class="spinner"></div>
                            <p>Solving equation step-by-step...</p>
                        </div>
                        
                        <div class="solution-steps" id="solution-steps">
                            <div class="step">
                                <div class="step-title">Welcome to the Exact Differential Equation Solver</div>
                                <div class="explanation">
                                    <p>This tool will solve exact differential equations of the form:</p>
                                    <div class="math-display">\[ M(x, y)dx + N(x, y)dy = 0 \]</div>
                                    <p>Enter your equation in the input fields and click "Solve Step-by-Step" to see the complete solution.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <h3>How to Use the Solver</h3>
                    <ol>
                        <li>Enter M(x,y) and N(x,y) functions in the input fields</li>
                        <li>Use 'x' and 'y' as variables, '^' for exponentiation</li>
                        <li>Use exp() for exponential function, sin() and cos() for trigonometric functions</li>
                        <li>Click "Solve Step-by-Step" to see the complete solution</li>
                        <li>Follow each step of the solution process</li>
                        <li>Try different examples to understand various cases</li>
                    </ol>
                </div>

                <!-- Posttest Section Content -->
                <div class="section-content posttest-content" id="posttest-content">
                    <h3>Post-Experiment Assessment</h3>
                    <p>Test your understanding after completing the simulation. Select the correct answer for each question.</p>
                    
                    <div class="question">
                        <h4>Question 1: For the equation (3x²y + y³)dx + (x³ + 3xy²)dy = 0, what is ∂M/∂y?</h4>
                        <div class="options">
                            <div class="option">3x²</div>
                            <div class="option" data-correct="true">3x² + 3y²</div>
                            <div class="option">3y²</div>
                            <div class="option">6xy</div>
                        </div>
                    </div>
                    
                    <div class="question">
                        <h4>Question 2: If M(x,y) = 2xy and N(x,y) = x², is the equation exact?</h4>
                        <div class="options">
                            <div class="option" data-correct="true">Yes, because ∂M/∂y = 2x and ∂N/∂x = 2x</div>
                            <div class="option">No, because ∂M/∂y ≠ ∂N/∂x</div>
                            <div class="option">Only for specific values of x and y</div>
                            <div class="option">Cannot be determined</div>
                        </div>
                    </div>
                    
                    <div class="question">
                        <h4>Question 3: In the solution of an exact differential equation, what does g(y) represent?</h4>
                        <div class="options">
                            <div class="option">The derivative of M with respect to y</div>
                            <div class="option">The constant of integration when integrating N</div>
                            <div class="option" data-correct="true">The "constant" of integration when integrating M with respect to x</div>
                            <div class="option">The solution of the differential equation</div>
                        </div>
                    </div>
                    
                    <div class="question">
                        <h4>Question 4: What is the general solution of an exact differential equation?</h4>
                        <div class="options">
                            <div class="option">y = f(x) + C</div>
                            <div class="option">M(x,y) = N(x,y)</div>
                            <div class="option" data-correct="true">ψ(x,y) = C, where C is a constant</div>
                            <div class="option">∂ψ/∂x = 0</div>
                        </div>
                    </div>
                    
                    <button class="submit-btn" id="submit-posttest">Submit Posttest</button>
                    <div id="posttest-result" style="display: none; margin-top: 20px; padding: 15px; background-color: #e8f4fc; border-radius: 8px;"></div>
                </div>

                <!-- References Section Content -->
                <div class="section-content references-content" id="references-content">
                    <h3>Recommended Textbooks</h3>
                    <ul>
                        <li>Boyce, W. E., & DiPrima, R. C. (2012). Elementary Differential Equations and Boundary Value Problems. John Wiley & Sons.</li>
                        <li>Zill, D. G. (2012). A First Course in Differential Equations with Modeling Applications. Cengage Learning.</li>
                        <li>Kreyszig, E. (2011). Advanced Engineering Mathematics. John Wiley & Sons.</li>
                        <li>Simmons, G. F. (2016). Differential Equations with Applications and Historical Notes. CRC Press.</li>
                    </ul>
                    
                    <h3>Online Resources</h3>
                    <ul>
                        <li>Khan Academy: Differential Equations - <a href="https://www.khanacademy.org/math/differential-equations" target="_blank">https://www.khanacademy.org/math/differential-equations</a></li>
                        <li>MIT OpenCourseWare: Differential Equations - <a href="https://ocw.mit.edu/courses/mathematics/18-03-differential-equations-spring-2010/" target="_blank">https://ocw.mit.edu/courses/mathematics/18-03-differential-equations-spring-2010/</a></li>
                        <li>Paul's Online Math Notes: Differential Equations - <a href="https://tutorial.math.lamar.edu/classes/de/de.aspx" target="_blank">https://tutorial.math.lamar.edu/classes/de/de.aspx</a></li>
                        <li>Wolfram MathWorld: Exact Differential Equation - <a href="https://mathworld.wolfram.com/ExactDifferentialEquation.html" target="_blank">https://mathworld.wolfram.com/ExactDifferentialEquation.html</a></li>
                    </ul>
                    
                    <h3>Video Lectures</h3>
                    <ul>
                        <li>Professor Leonard: Differential Equations - <a href="https://www.youtube.com/playlist?list=PLDesaqWTN6EQ2J4vgsN1HyBeRADEh4Cw-" target="_blank">YouTube Playlist</a></li>
                        <li>MIT 18.03 Differential Equations - <a href="https://www.youtube.com/playlist?list=PLUl4u3cNGP63oTpyxCMLKt_JmB0WtSZfG" target="_blank">YouTube Playlist</a></li>
                        <li>Exact Differential Equations by PatrickJMT - <a href="https://www.youtube.com/watch?v=Pb04ntcDJcQ" target="_blank">YouTube Video</a></li>
                    </ul>
                    
                    <h3>Research Papers</h3>
                    <ul>
                        <li>Davis, H. T. (1962). Introduction to Nonlinear Differential and Integral Equations. Dover Publications.</li>
                        <li>Ince, E. L. (1956). Ordinary Differential Equations. Dover Publications.</li>
                        <li>Arnold, V. I. (1992). Ordinary Differential Equations. Springer-Verlag.</li>
                    </ul>
                </div>

                <!-- Contributors Section Content -->
                <div class="section-content contributors-content" id="contributors-content">
                    <h3>Project Team</h3>
                    <p>This virtual lab was developed by the Applied Sciences & Humanities Department at Pimpri Chinchwad College of Engineering.</p>
                    
                    <div class="contributor-list">
                        <div class="contributor-card">
                            <img src="image/piyush.jpg.png" alt="Piyush Patil">
                            <h4>Piyush Patil</h4>
                            <h4>PRN: 125B1F132</h4>
                        </div>
                        
                        <div class="contributor-card">
                            <img src="image/pawan.jpg.png" alt="Pawan Koshti">
                            <h4>Pawan Koshti</h4>
                            <h4>PRN: 125B1F079</h4>
                        </div>
                        
                        <div class="contributor-card">
                            <img src="image/pratham.jpg.png" alt="Pratham Gupta">
                            <h4>Pratham Gupta</h4>
                            <h4>PRN: 125B1F125</h4>
                        </div>
                        
                        <div class="contributor-card">
                            <img src="image/hariom.jpg.png" alt="Hariom Ugale">
                            <h4>Hariom Ugale</h4>
                            <h4>PRN: 125B1F083</h4>
                        </div>
                    </div>
                    
                    <h3>Subject Guide</h3>
                    <div class="contributor-card" style="max-width: 300px; margin: 20px auto;">
                        <div style="text-align: center; font-weight: bold; margin-bottom: 10px;">
                            <H3>Subject Guide and Mentor</H3>
                        </div>
                        <img src="image/dinesh.jpg.png" alt="Prof. Dinesh B. Kute">
                        <H2>Prof. Dinesh B. Kute</H2>
                        <p><H4>Subject Guide and Mentor</H4></p>
                        <p><H4>dinesh.kute@pccoepune.org</H4></p>
                        <p><H4>Applied Sciences & Humanities Department</H4></p>
                        <p><H4>Pimpri Chinchwad College of Engineering</H4></p>
                    </div>
                    
                    <h3>Student Contributors</h3>
                    <ul>
                        <li>Piyush Patil - UI/UX Design</li>
                        <li>Pratham Gupta - Content Review</li>
                        <li>Pawan Koshti - Testing & Feedback</li>
                        <li>Hariom Ugale - Documentation</li>
                    </ul>
                    
                    <h3>Acknowledgments</h3>
                    <p>We would like to thank the Virtual Labs initiative by the Ministry of Education, Government of India, for providing the framework and support for developing this educational resource.</p>
                    
                    <h3>Contact Information</h3>
                    <p>For queries, suggestions, or feedback, please contact:</p>
                    <p><strong>Department of Applied Sciences & Humanities</strong><br>
                    Pimpri Chinchwad College of Engineering<br>
                    Pune, Maharashtra 411044<br>
                    Email: piyush.patil25@pccoepune.org<br>
                    Email: pawan.koshti25@pccoepune.org<br>
                    Email: hariom.ugale25@pccoepune.org<br>
                    Email: pratham.gupta25@pccoepune.org<br></p>
                </div>

                <!-- Feedback Section Content -->
                <div class="section-content feedback-content" id="feedback-content">
                    <h3>Feedback Form</h3>
                    <p>Your feedback is valuable to us. Please take a moment to share your experience with this virtual lab.</p>
                    
                    <div class="feedback-form">
                        <div class="form-row">
                            <label for="feedback-name">Full Name:</label>
                            <input type="text" id="feedback-name" placeholder="Enter your name">
                        </div>
                        
                        <div class="form-row">
                            <label for="feedback-email">Email Address:</label>
                            <input type="email" id="feedback-email" placeholder="Enter your email">
                        </div>
                        
                        <div class="form-row">
                            <label for="feedback-role">Your Role:</label>
                            <select id="feedback-role" style="width: 100%; padding: 12px 15px; border: 2px solid #ddd; border-radius: 8px; font-size: 16px;">
                                <option value="">Select your role</option>
                                <option value="student">Student</option>
                                <option value="teacher">Teacher/Professor</option>
                                <option value="researcher">Researcher</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-row">
                            <label>Rate your overall experience:</label>
                            <div class="rating">
                                <i class="far fa-star" data-value="1"></i>
                                <i class="far fa-star" data-value="2"></i>
                                <i class="far fa-star" data-value="3"></i>
                                <i class="far fa-star" data-value="4"></i>
                                <i class="far fa-star" data-value="5"></i>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <label for="feedback-comments">Comments/Suggestions:</label>
                            <textarea id="feedback-comments" rows="5" placeholder="Please provide your detailed feedback here..."></textarea>
                        </div>
                        
                        <div class="form-row">
                            <label>
                                <input type="checkbox" id="feedback-consent" style="margin-right: 10px;">
                                I consent to having my feedback used for improving this virtual lab
                            </label>
                        </div>
                        
                        <button class="submit-btn" id="submit-feedback">Submit Feedback</button>
                    </div>
                    
                    <h3>What happens with your feedback?</h3>
                    <ul>
                        <li>Your suggestions will be reviewed by our development team</li>
                        <li>We will use your feedback to improve the virtual lab</li>
                        <li>You may receive a follow-up email if you provide your contact information</li>
                        <li>Aggregated feedback will be used in our project reports</li>
                    </ul>
                    
                    <h3>Other Ways to Provide Feedback</h3>
                    <p>If you prefer, you can also email your feedback directly to: <strong>feedback.virtuallabs@pccegoa.org</strong></p>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="container">
        <p>Virtual Labs &copy; 2025 | Applied Sciences & Humanities Department | 
           <span class="footer-logo">Pimpri Chinchwad College of Engineering</span>
        </p>
    </footer>

    <script>
        // Debug image loading
        document.addEventListener('DOMContentLoaded', function() {
            const logoImg = document.getElementById('pcceLogo');
            const debugInfo = document.getElementById('debugInfo');
            
            logoImg.onload = function() {
                debugInfo.innerHTML = '✓ PCOE logo loaded successfully';
                debugInfo.style.background = 'rgba(46, 204, 113, 0.8)';
                setTimeout(() => {
                    debugInfo.style.display = 'none';
                }, 3000);
            };
            
            logoImg.onerror = function() {
                debugInfo.innerHTML = '✗ PCOE logo failed to load, using fallback';
                debugInfo.style.background = 'rgba(231, 76, 60, 0.8)';
                setTimeout(() => {
                    debugInfo.style.display = 'none';
                }, 5000);
            };
            
            // Check after 2 seconds if image loaded
            setTimeout(() => {
                if (!logoImg.complete || logoImg.naturalHeight === 0) {
                    debugInfo.innerHTML = '⚠️ PCOE logo loading slowly...';
                }
            }, 2000);
        });

        // DOM Elements
        const startPage = document.getElementById('start-page');
        const labSections = document.getElementById('lab-sections');
        const sidebar = document.getElementById('sidebar');
        const content = document.getElementById('content');
        const startLabBtn = document.getElementById('start-lab-btn');
        const goHomeBtn = document.getElementById('go-home-btn');
        const breadcrumbHome = document.getElementById('breadcrumb-home');
        const navItems = document.querySelectorAll('.nav-item');
        const sectionContents = document.querySelectorAll('.section-content');
        const menuToggle = document.getElementById('menuToggle');

        // Function to show lab sections and hide start page
        function showLabSections() {
            startPage.style.display = 'none';
            labSections.style.display = 'block';
            sidebar.classList.add('visible');
            content.classList.add('with-sidebar');
        }

        // Function to show start page and hide lab sections
        function showStartPage() {
            startPage.style.display = 'flex';
            labSections.style.display = 'none';
            sidebar.classList.remove('visible');
            content.classList.remove('with-sidebar');
        }

        // Toggle sidebar on mobile
        function toggleSidebar() {
            sidebar.classList.toggle('visible');
            if (window.innerWidth <= 992) {
                if (sidebar.classList.contains('visible')) {
                    content.style.marginLeft = '0';
                }
            }
        }

        // Event Listeners
        // Launch Exact DE Solver button
        startLabBtn.addEventListener('click', function(e) {
            e.preventDefault();
            showLabSections();
            // Activate simulation section by default
            activateSection('simulation');
        });

        // Back to Home button in sidebar
        goHomeBtn.addEventListener('click', function(e) {
            e.preventDefault();
            showStartPage();
        });

        // Home breadcrumb
        breadcrumbHome.addEventListener('click', function(e) {
            e.preventDefault();
            showStartPage();
        });

        // Menu toggle button
        menuToggle.addEventListener('click', toggleSidebar);

        // Function to activate a specific section
        function activateSection(sectionName) {
            // Update active nav item
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionName) {
                    item.classList.add('active');
                }
            });
            
            // Show corresponding content
            sectionContents.forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(sectionName + '-content').classList.add('active');
        }

        // Navigation menu interaction
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                const sectionId = item.getAttribute('data-section');
                activateSection(sectionId);
                // On mobile, close sidebar after selection
                if (window.innerWidth <= 992) {
                    sidebar.classList.remove('visible');
                }
            });
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function(e) {
            if (window.innerWidth <= 992 && sidebar.classList.contains('visible')) {
                if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
                    sidebar.classList.remove('visible');
                }
            }
        });

        // Handle window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 992) {
                // On larger screens, ensure sidebar is visible if in lab sections
                if (labSections.style.display !== 'none') {
                    sidebar.classList.add('visible');
                    content.classList.add('with-sidebar');
                }
            } else {
                // On mobile, remove margin from content
                content.style.marginLeft = '0';
            }
        });

        // Initialize the start page
        window.onload = function() {
            showStartPage();
            loadExample(0);
        };

        // [Rest of the JavaScript code remains the same - pretest, posttest, solver functions, etc.]
        // Pretest functionality
        document.getElementById('submit-pretest')?.addEventListener('click', function() {
            const options = document.querySelectorAll('.pretest-content .option');
            let score = 0;
            let total = 0;
            
            options.forEach(option => {
                if (option.getAttribute('data-correct') === 'true') {
                    total++;
                    if (option.classList.contains('selected')) {
                        score++;
                        option.style.backgroundColor = '#d4edda';
                        option.style.borderColor = '#c3e6cb';
                    }
                } else if (option.classList.contains('selected')) {
                    option.style.backgroundColor = '#f8d7da';
                    option.style.borderColor = '#f5c6cb';
                }
            });
            
            const resultDiv = document.getElementById('pretest-result');
            const percentage = (score / total) * 100;
            resultDiv.innerHTML = `<h4>Pretest Result: ${score} out of ${total} correct (${percentage.toFixed(0)}%)</h4>`;
            resultDiv.style.display = 'block';
            
            if (percentage >= 70) {
                resultDiv.innerHTML += '<p>Great job! You are ready to proceed with the simulation.</p>';
                resultDiv.style.backgroundColor = '#d4edda';
                resultDiv.style.borderLeft = '4px solid #28a745';
            } else {
                resultDiv.innerHTML += '<p>Consider reviewing the theory section before proceeding.</p>';
                resultDiv.style.backgroundColor = '#fff3cd';
                resultDiv.style.borderLeft = '4px solid #ffc107';
            }
        });
        
        // Posttest functionality
        document.getElementById('submit-posttest')?.addEventListener('click', function() {
            const options = document.querySelectorAll('.posttest-content .option');
            let score = 0;
            let total = 0;
            
            options.forEach(option => {
                if (option.getAttribute('data-correct') === 'true') {
                    total++;
                    if (option.classList.contains('selected')) {
                        score++;
                        option.style.backgroundColor = '#d4edda';
                        option.style.borderColor = '#c3e6cb';
                    }
                } else if (option.classList.contains('selected')) {
                    option.style.backgroundColor = '#f8d7da';
                    option.style.borderColor = '#f5c6cb';
                }
            });
            
            const resultDiv = document.getElementById('posttest-result');
            const percentage = (score / total) * 100;
            resultDiv.innerHTML = `<h4>Posttest Result: ${score} out of ${total} correct (${percentage.toFixed(0)}%)</h4>`;
            resultDiv.style.display = 'block';
            
            if (percentage >= 70) {
                resultDiv.innerHTML += '<p>Excellent! You have successfully understood exact differential equations.</p>';
                resultDiv.style.backgroundColor = '#d4edda';
                resultDiv.style.borderLeft = '4px solid #28a745';
            } else {
                resultDiv.innerHTML += '<p>You may want to revisit the simulation and theory sections.</p>';
                resultDiv.style.backgroundColor = '#fff3cd';
                resultDiv.style.borderLeft = '4px solid #ffc107';
            }
        });

        // Option selection for tests
        document.querySelectorAll('.option').forEach(option => {
            option.addEventListener('click', function() {
                // Clear other selections in the same question
                const question = this.closest('.question');
                question.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Select this option
                this.classList.add('selected');
            });
        });

        // Feedback rating stars
        document.querySelectorAll('.rating i').forEach(star => {
            star.addEventListener('click', function() {
                const value = parseInt(this.getAttribute('data-value'));
                const stars = this.parentElement.querySelectorAll('i');
                
                stars.forEach((s, index) => {
                    if (index < value) {
                        s.classList.remove('far');
                        s.classList.add('fas', 'active');
                    } else {
                        s.classList.remove('fas', 'active');
                        s.classList.add('far');
                    }
                });
            });
        });

        // Feedback submission
        document.getElementById('submit-feedback')?.addEventListener('click', function() {
            const name = document.getElementById('feedback-name').value;
            const email = document.getElementById('feedback-email').value;
            const comments = document.getElementById('feedback-comments').value;
            const consent = document.getElementById('feedback-consent').checked;
            
            if (!name || !email || !comments) {
                alert('Please fill in all required fields.');
                return;
            }
            
            if (!consent) {
                alert('Please consent to having your feedback used for improvement.');
                return;
            }
            
            // In a real application, this would submit to a server
            alert('Thank you for your feedback! Your responses have been recorded.');
            document.querySelectorAll('.feedback-form input, .feedback-form textarea, .feedback-form select').forEach(el => {
                el.value = '';
            });
            
            // Reset stars
            document.querySelectorAll('.rating i').forEach(star => {
                star.classList.remove('fas', 'active');
                star.classList.add('far');
            });
        });

        // Examples to load for differential equation solver
        const examples = [
            {
                m: "2*x*y^3 - 4*x^3",
                n: "x^2*y^2 + exp(y)",
                desc: "Example 1: (2xy³ - 4x³)dx + (x²y² + eʸ)dy = 0"
            },
            {
                m: "y*cos(x) + 2*x",
                n: "sin(x) + 2*y",
                desc: "Example 2: (y cos x + 2x)dx + (sin x + 2y)dy = 0"
            },
            {
                m: "6*x*y + y^3",
                n: "3*x^2 + 3*x*y^2",
                desc: "Example 3: (6xy + y³)dx + (3x² + 3xy²)dy = 0"
            }
        ];
        
        // Load example into input fields
        window.loadExample = function(index) {
            document.getElementById('m-function').value = examples[index].m;
            document.getElementById('n-function').value = examples[index].n;
            
            // Show which example was loaded
            document.getElementById('solution-steps').innerHTML = `
                <div class="step">
                    <div class="step-title">Example Loaded</div>
                    <div class="explanation">
                        <p>Loaded ${examples[index].desc}</p>
                        <div class="math-display">\[ ${examples[index].m} \, dx + ${examples[index].n} \, dy = 0 \]</div>
                        <p>Click "Solve Step-by-Step" to see the solution.</p>
                    </div>
                </div>
            `;
            
            // Render MathJax
            if (window.MathJax) {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            }
        };
        
        // Main function to solve the equation
        window.solveEquation = function() {
            // Get input values
            const mInput = document.getElementById('m-function').value.trim();
            const nInput = document.getElementById('n-function').value.trim();
            
            // Validate inputs
            if (!mInput || !nInput) {
                showError("Please enter both M(x,y) and N(x,y) functions");
                return;
            }
            
            // Show loading spinner
            document.getElementById('loading').style.display = 'block';
            document.getElementById('solution-steps').innerHTML = '';
            
            // Use setTimeout to allow UI to update before heavy computation
            setTimeout(() => {
                try {
                    // Parse the input strings into functions
                    const mFunc = parseFunction(mInput);
                    const nFunc = parseFunction(nInput);
                    
                    // Start solving process
                    solveExactDifferentialEquation(mFunc, nFunc, mInput, nInput);
                } catch (error) {
                    showError("Error parsing functions: " + error.message);
                } finally {
                    // Hide loading spinner
                    document.getElementById('loading').style.display = 'none';
                }
            }, 100);
        };
        
        // Parse a string into a function that can be evaluated
        function parseFunction(str) {
            // Replace ^ with ** for exponentiation
            let funcStr = str.replace(/\^/g, '**');
            
            // Replace exp() with Math.exp()
            funcStr = funcStr.replace(/exp\(/g, 'Math.exp(');
            
            // Replace sin() with Math.sin()
            funcStr = funcStr.replace(/sin\(/g, 'Math.sin(');
            
            // Replace cos() with Math.cos()
            funcStr = funcStr.replace(/cos\(/g, 'Math.cos(');
            
            // Replace ln() or log() with Math.log()
            funcStr = funcStr.replace(/ln\(/g, 'Math.log(');
            funcStr = funcStr.replace(/log\(/g, 'Math.log10(');
            
            // Return a function that evaluates the expression for given x and y
            return function(x, y) {
                try {
                    // Use Function constructor to create a function from string
                    // Note: This is a simplified approach - in a real application,
                    // you would want more robust parsing and security measures
                    return eval(funcStr);
                } catch (e) {
                    throw new Error(`Error evaluating function: ${e.message}`);
                }
            };
        }
        
        // Calculate partial derivative numerically
        function partialDerivative(f, variable, point, h = 1e-5) {
            const {x, y} = point;
            
            if (variable === 'y') {
                // Partial derivative with respect to y
                return (f(x, y + h) - f(x, y - h)) / (2 * h);
            } else {
                // Partial derivative with respect to x
                return (f(x + h, y) - f(x - h, y)) / (2 * h);
            }
        }
        
        // Check if the equation is exact
        function checkExactness(mFunc, nFunc) {
            // Test at several random points
            const testPoints = [
                {x: 1, y: 1},
                {x: 2, y: 3},
                {x: 0.5, y: 2},
                {x: 3, y: 0.5}
            ];
            
            for (let point of testPoints) {
                const dM_dy = partialDerivative(mFunc, 'y', point);
                const dN_dx = partialDerivative(nFunc, 'x', point);
                
                // If difference is significant, equation is not exact
                if (Math.abs(dM_dy - dN_dx) > 1e-4) {
                    return false;
                }
            }
            
            return true;
        }
        
        // Main solving function
        function solveExactDifferentialEquation(mFunc, nFunc, mStr, nStr) {
            let solutionHTML = '';
            
            // Step 1: Display the equation
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 1: Given Equation</div>
                    <div class="math-display">\[ ${mStr} \, dx + ${nStr} \, dy = 0 \]</div>
                    <div class="explanation">
                        <p>We have an equation in the form \( M(x, y)dx + N(x, y)dy = 0 \), where:</p>
                        <p>\[ M(x, y) = ${mStr} \]</p>
                        <p>\[ N(x, y) = ${nStr} \]</p>
                    </div>
                </div>
            `;
            
            // Step 2: Check for exactness
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 2: Check for Exactness</div>
                    <div class="explanation">
                        <p>For the equation to be exact, it must satisfy:</p>
                        <div class="math-display">\[ \frac{\partial M}{\partial y} = \frac{\partial N}{\partial x} \]</div>
                        <p>Let's compute these partial derivatives.</p>
                    </div>
                </div>
            `;
            
            // Compute partial derivatives symbolically (simplified for demo)
            const dM_dy = symbolicallyDifferentiate(mStr, 'y');
            const dN_dx = symbolicallyDifferentiate(nStr, 'x');
            
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 3: Compute Partial Derivatives</div>
                    <div class="explanation">
                        <p>Partial derivative of M with respect to y:</p>
                        <div class="math-display">\[ \frac{\partial M}{\partial y} = \frac{\partial}{\partial y}(${mStr}) = ${dM_dy} \]</div>
                        <p>Partial derivative of N with respect to x:</p>
                        <div class="math-display">\[ \frac{\partial N}{\partial x} = \frac{\partial}{\partial x}(${nStr}) = ${dN_dx} \]</div>
                    </div>
                </div>
            `;
            
            // Check if they're equal (simplified check for demo)
            const isExact = checkExactness(mFunc, nFunc);
            
            if (!isExact) {
                solutionHTML += `
                    <div class="error">
                        <div class="error-title">Equation is Not Exact</div>
                        <div class="explanation">
                            <p>Since \( \frac{\partial M}{\partial y} \neq \frac{\partial N}{\partial x} \), the differential equation is not exact.</p>
                            <p>\[ ${dM_dy} \neq ${dN_dx} \]</p>
                            <p>Therefore, we cannot solve it using the exact differential equation method.</p>
                        </div>
                    </div>
                `;
                
                document.getElementById('solution-steps').innerHTML = solutionHTML;
                if (window.MathJax) MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
                return;
            }
            
            // If exact, continue with solution
            solutionHTML += `
                <div class="success">
                    <div class="success-title">Equation is Exact</div>
                    <div class="explanation">
                        <p>Since \( \frac{\partial M}{\partial y} = \frac{\partial N}{\partial x} \), the differential equation is exact.</p>
                        <p>\[ ${dM_dy} = ${dN_dx} \]</p>
                        <p>We can now proceed to find the solution.</p>
                    </div>
                </div>
            `;
            
            // Step 4: Find the solution
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 4: Find the Potential Function ψ(x, y)</div>
                    <div class="explanation">
                        <p>For an exact differential equation, there exists a function ψ(x, y) such that:</p>
                        <div class="math-display">\[ \frac{\partial \psi}{\partial x} = M \quad \text{and} \quad \frac{\partial \psi}{\partial y} = N \]</div>
                        <p>The solution to the differential equation is given by ψ(x, y) = C, where C is a constant.</p>
                    </div>
                </div>
            `;
            
            // Step 5: Integrate M with respect to x
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 5: Integrate M with respect to x</div>
                    <div class="explanation">
                        <p>We integrate M(x, y) with respect to x, treating y as constant:</p>
                        <div class="math-display">\[ \psi(x, y) = \int M(x, y) \, dx = \int (${mStr}) \, dx \]</div>
                        <p>This gives us:</p>
                        <div class="math-display">\[ \psi(x, y) = ${symbolicallyIntegrate(mStr, 'x')} + g(y) \]</div>
                        <p>Here, g(y) is an arbitrary function of y that acts as the "constant" of integration.</p>
                    </div>
                </div>
            `;
            
            // Step 6: Differentiate with respect to y and compare with N
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 6: Determine g(y) using N(x, y)</div>
                    <div class="explanation">
                        <p>Now we differentiate ψ with respect to y and set it equal to N(x, y):</p>
                        <div class="math-display">\[ \frac{\partial \psi}{\partial y} = \frac{\partial}{\partial y}\left(${symbolicallyIntegrate(mStr, 'x')}\right) + g'(y) = N(x, y) = ${nStr} \]</div>
                        <p>From this, we can solve for g'(y):</p>
                        <div class="math-display">\[ g'(y) = ${nStr} - \frac{\partial}{\partial y}\left(${symbolicallyIntegrate(mStr, 'x')}\right) \]</div>
                    </div>
                </div>
            `;
            
            // Step 7: Integrate to find g(y)
            solutionHTML += `
                <div class="step">
                    <div class="step-title">Step 7: Integrate to find g(y)</div>
                    <div class="explanation">
                        <p>Now we integrate g'(y) with respect to y:</p>
                        <div class="math-display">\[ g(y) = \int g'(y) \, dy \]</div>
                        <p>This gives us:</p>
                        <div class="math-display">\[ g(y) = ${symbolicallyIntegrateForG(mStr, nStr)} \]</div>
                    </div>
                </div>
            `;
            
            // Step 8: Write the final solution
            const finalSolution = getFinalSolution(mStr, nStr);
            
            solutionHTML += `
                <div class="result">
                    <div class="result-title">Step 8: Final Solution</div>
                    <div class="explanation">
                        <p>The solution to the exact differential equation is ψ(x, y) = C, where:</p>
                        <div class="math-display">\[ \psi(x, y) = ${finalSolution} \]</div>
                        <p>Therefore, the general solution is:</p>
                        <div class="math-display">\[ ${finalSolution} = C \]</div>
                        <p>Where C is an arbitrary constant.</p>
                    </div>
                </div>
            `;
            
            // Display all steps
            document.getElementById('solution-steps').innerHTML = solutionHTML;
            
            // Render MathJax
            if (window.MathJax) {
                MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
            }
        }
        
        // Simplified symbolic differentiation for demo
        function symbolicallyDifferentiate(expr, variable) {
            // This is a simplified symbolic differentiation for demo purposes
            // In a real application, you would use a proper symbolic math library
            
            if (variable === 'y') {
                if (expr.includes('x*y')) {
                    return expr.replace('x*y', 'x');
                } else if (expr.includes('y^')) {
                    const match = expr.match(/y\^(\d+)/);
                    if (match) {
                        const power = parseInt(match[1]);
                        return expr.replace(`y^${power}`, `${power}*y^${power-1}`);
                    }
                } else if (expr.includes('y')) {
                    return expr.replace('y', '1');
                }
            } else { // variable === 'x'
                if (expr.includes('x*y')) {
                    return expr.replace('x*y', 'y');
                } else if (expr.includes('x^')) {
                    const match = expr.match(/x\^(\d+)/);
                    if (match) {
                        const power = parseInt(match[1]);
                        return expr.replace(`x^${power}`, `${power}*x^${power-1}`);
                    }
                } else if (expr.includes('x')) {
                    return expr.replace('x', '1');
                }
            }
            
            return expr + ' (derivative)';
        }
        
        // Simplified symbolic integration for demo
        function symbolicallyIntegrate(expr, variable) {
            // This is a simplified symbolic integration for demo purposes
            
            if (variable === 'x') {
                if (expr.includes('x*y')) {
                    return expr.replace('x*y', '(1/2)*x^2*y');
                } else if (expr.includes('x^')) {
                    const match = expr.match(/x\^(\d+)/);
                    if (match) {
                        const power = parseInt(match[1]);
                        return expr.replace(`x^${power}`, `(1/${power+1})*x^${power+1}`);
                    }
                } else if (expr.includes('x')) {
                    return expr.replace('x', '(1/2)*x^2');
                } else if (expr.includes('cos(x)')) {
                    return expr.replace('cos(x)', 'sin(x)');
                }
            }
            
            return '∫(' + expr + ') d' + variable;
        }
        
        // Simplified function to get g(y) integration
        function symbolicallyIntegrateForG(mStr, nStr) {
            // Simplified for demo
            if (mStr.includes('2*x*y^3') && nStr.includes('x^2*y^2')) {
                return 'exp(y)';
            } else if (mStr.includes('y*cos(x)') && nStr.includes('sin(x)')) {
                return 'y^2';
            } else if (mStr.includes('6*x*y')) {
                return '(1/4)*y^4';
            }
            
            return '∫(...) dy';
        }
        
        // Get final solution based on the example
        function getFinalSolution(mStr, nStr) {
            if (mStr.includes('2*x*y^3') && nStr.includes('x^2*y^2')) {
                return 'x^2 y^3 - x^4 + e^y';
            } else if (mStr.includes('y*cos(x)') && nStr.includes('sin(x)')) {
                return 'y \\sin(x) + x^2 + y^2';
            } else if (mStr.includes('6*x*y')) {
                return '3x^2 y + \\frac{1}{4} y^4';
            }
            
            return '\\psi(x, y)';
        }
        
        // Show error message
        function showError(message) {
            document.getElementById('loading').style.display = 'none';
            document.getElementById('solution-steps').innerHTML = `
                <div class="error">
                    <div class="error-title">Error</div>
                    <div class="explanation">${message}</div>
                </div>
            `;
        }
    </script>
</body>
</html>
